import{b as N,e as C,V as E,ah as R,r as w,f as $,h as u,o as k,c as z,L as U,M as L,k as o,i as a,j as n,n as W,$ as I,x as g,t as h,I as q,z as A}from"./index-BP30Yz_m.js";import{C as T}from"./index-DTWQQqpJ.js";function B(){const{t}=N();return{pageData:C({columnData:[{label:t("fabricInventory.warehouseName"),prop:"warehouseName",width:"auto",fixed:"left"},{label:t("fabricInventory.businessEntityCode"),prop:"businessEntityCode",width:"auto"},{label:t("fabricInventory.businessEntityName"),prop:"businessEntityName",width:"auto"},{label:t("fabricInventory.season"),prop:"season",width:"auto"},{label:t("fabricInventory.fabricCode"),prop:"fabricCode",width:"auto"},{label:t("fabricInventory.fabricName"),prop:"fabricName",width:"auto"},{label:t("fabricInventory.component"),prop:"component",width:"auto"},{label:t("fabricInventory.colorCode"),prop:"colorCode",width:"auto"},{label:t("fabricInventory.colorName"),prop:"colorName",width:"auto"},{label:t("fabricInventory.lot"),prop:"lot",width:"auto"},{label:t("fabricInventory.roll"),prop:"roll",width:"auto"},{label:t("fabricInventory.width"),prop:"width",width:"auto"},{label:t("fabricInventory.weight"),prop:"weight",width:"auto"},{label:t("fabricInventory.grossWeight"),prop:"grossWeight",width:"auto"},{label:t("fabricInventory.netWeight"),prop:"netWeight",width:"auto"},{label:t("fabricInventory.containerCode"),prop:"containerCode",width:"auto"},{label:t("fabricInventory.locationName"),prop:"locationName",width:"auto"},{label:t("fabricInventory.quantity"),prop:"quantity",width:"auto"},{label:t("fabricInventory.unitName"),prop:"unitName",width:"auto"},{label:t("fabricInventory.grade"),prop:"grade",width:"auto"},{label:t("fabricInventory.currency"),prop:"currency",width:"auto"},{label:t("fabricInventory.qrcode"),prop:"qrcode",width:"auto"}]})}}function F(t){return E({url:"/bok/fabricWarehouseInventoryReport/list",method:"get",params:t})}const M=R("fabric-inventory-report",{state:()=>({totalItems:0,dataArr:[],loading:!1,paginationData:{pageNum:1,pageSize:10}}),actions:{async getInventoryListReports(t){try{this.loading=!0;const p=await F(t),{total:f,rows:i}=p;this.totalItems=f,this.dataArr=i}catch(p){console.error(p)}finally{this.loading=!1}}}}),j={class:"app-container"},O={class:"action-container"},Q={__name:"index",setup(t){const{proxy:p}=A(),{pageData:f}=B(),i=M();N(),w();const b=w(!0),v={businessEntityName:"",fabricCode:"",colorName:"",lot:"",roll:"",pageNum:1,pageSize:10},e=C({...v}),_=()=>{p.download("bok/fabricWarehouseInventoryReport/export",e,`fabric_inventory_report_${new Date().getTime()}.xlsx`)},x=()=>{e.businessEntityName=e.businessEntityName.trim(),e.colorName=e.colorName.trim(),e.fabricCode=e.fabricCode.trim(),e.lot=e.lot.trim(),e.roll=e.roll.trim(),i.getInventoryListReports(e)};$(()=>{i.getInventoryListReports(e)});const S=()=>{Object.assign(e,{...v}),i.getInventoryListReports()};return(s,l)=>{const c=u("el-input"),m=u("el-form-item"),d=u("el-col"),y=u("el-button"),V=u("el-row"),D=u("el-form");return k(),z("div",j,[U(a(D,{model:o(e),ref:"queryRef",inline:!1,labelSuffix:":"},{default:n(()=>[a(V,{gutter:20},{default:n(()=>[a(d,{lg:6,xl:4,sm:12,md:12,xs:24},{default:n(()=>[a(m,{prop:"businessEntityName"},{default:n(()=>[a(c,{modelValue:o(e).businessEntityName,"onUpdate:modelValue":l[0]||(l[0]=r=>o(e).businessEntityName=r),placeholder:s.$t("fabricInventory.businessEntityName"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),a(d,{lg:6,xl:4,sm:12,md:12,xs:24},{default:n(()=>[a(m,{prop:"fabricCode"},{default:n(()=>[a(c,{modelValue:o(e).fabricCode,"onUpdate:modelValue":l[1]||(l[1]=r=>o(e).fabricCode=r),placeholder:s.$t("fabricInventory.fabricCode"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),a(d,{lg:6,xl:4,sm:12,md:12,xs:24},{default:n(()=>[a(m,{prop:"colorName"},{default:n(()=>[a(c,{modelValue:o(e).colorName,"onUpdate:modelValue":l[2]||(l[2]=r=>o(e).colorName=r),placeholder:s.$t("fabricInventory.colorName"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),a(d,{lg:6,xl:4,sm:12,md:12,xs:24},{default:n(()=>[a(m,{prop:"roll"},{default:n(()=>[a(c,{modelValue:o(e).roll,"onUpdate:modelValue":l[3]||(l[3]=r=>o(e).roll=r),placeholder:s.$t("fabricInventory.roll"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),a(d,{lg:6,xl:4,sm:12,md:12,xs:24},{default:n(()=>[a(m,{prop:"lot"},{default:n(()=>[a(c,{modelValue:o(e).lot,"onUpdate:modelValue":l[4]||(l[4]=r=>o(e).lot=r),placeholder:s.$t("fabricInventory.lot"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),a(d,{lg:8,xl:4,sm:12,md:12,xs:24},{default:n(()=>[W("div",O,[a(y,{type:"primary",loading:o(I)().loading,icon:"Search",onClick:x},{default:n(()=>[g(h(s.$t("query")),1)]),_:1},8,["loading"]),a(y,{icon:"Refresh",onClick:S},{default:n(()=>[g(h(s.$t("reset")),1)]),_:1}),a(y,{type:"warning",icon:"Download",plain:"",onClick:_,class:"btn-export",disabled:o(i).dataArr.length<=0},{default:n(()=>[g(h(s.$t("fabricInpsection.export")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["model"]),[[L,o(b)]]),a(T,{loading:o(I)().loading,onQueryTable:l[5]||(l[5]=r=>o(i).getInventoryListReports(o(e))),showSearch:o(b),"onUpdate:showSearch":l[6]||(l[6]=r=>q(b)?b.value=r:null),onHandleCurrentChange:l[7]||(l[7]=r=>o(i).getInventoryListReports(o(e))),total:o(i).totalItems,showMultipleColumn:"",pageSize:o(e).pageSize,"onUpdate:pageSize":l[8]||(l[8]=r=>o(e).pageSize=r),pageNum:o(e).pageNum,"onUpdate:pageNum":l[9]||(l[9]=r=>o(e).pageNum=r),operateWidth:"100px",tableData:o(i).dataArr,columnData:o(f).columnData,showSummary:!1,showOperate:!1,"show-multiple":!1,"show-multiple-column":!0,showPagination:!0},null,8,["loading","showSearch","total","pageSize","pageNum","tableData","columnData"])])}}};export{Q as default};
