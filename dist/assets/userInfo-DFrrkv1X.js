import{c as v}from"./user-TxY_T3CH.js";import{b as C,r as g,w as U,h as m,o as w,s as $,j as o,i as n,k as l,x as i,t as p,z as q}from"./index-BP30Yz_m.js";const B={__name:"userInfo",props:{user:{type:Object}},setup(x){const{t:e}=C(),d=x,{proxy:c}=q(),a=g({}),V=g({nickName:[{required:!0,message:e("user.nickName")+e("cannot_empty"),trigger:"blur"}],email:[{required:!0,message:e("user.email")+e("cannot_empty"),trigger:"blur"},{type:"email",message:e("user.tip2"),trigger:["blur","change"]}],phonenumber:[{required:!0,message:e("user.phonenumber")+e("cannot_empty"),trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:e("user.tip3"),trigger:"blur"}]});function k(){c.$refs.userRef.validate(r=>{r&&v(a.value).then(t=>{c.$modal.msgSuccess(e("edit")+e("success")),d.user.phonenumber=a.value.phonenumber,d.user.email=a.value.email})})}function h(){c.$tab.closePage()}return U(()=>d.user,r=>{r&&(a.value={nickName:r.nickName,phonenumber:r.phonenumber,email:r.email,sex:r.sex})},{immediate:!0}),(r,t)=>{const f=m("el-input"),s=m("el-form-item"),b=m("el-radio"),y=m("el-radio-group"),_=m("el-button"),N=m("el-form");return w(),$(N,{ref:"userRef",model:l(a),rules:l(V)},{default:o(()=>[n(s,{label:l(e)("user.nickName"),prop:"nickName"},{default:o(()=>[n(f,{modelValue:l(a).nickName,"onUpdate:modelValue":t[0]||(t[0]=u=>l(a).nickName=u),maxlength:"30"},null,8,["modelValue"])]),_:1},8,["label"]),n(s,{label:l(e)("user.phonenumber"),prop:"phonenumber"},{default:o(()=>[n(f,{modelValue:l(a).phonenumber,"onUpdate:modelValue":t[1]||(t[1]=u=>l(a).phonenumber=u),maxlength:"11"},null,8,["modelValue"])]),_:1},8,["label"]),n(s,{label:l(e)("user.email"),prop:"email"},{default:o(()=>[n(f,{modelValue:l(a).email,"onUpdate:modelValue":t[2]||(t[2]=u=>l(a).email=u),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["label"]),n(s,{label:l(e)("user.sex")},{default:o(()=>[n(y,{modelValue:l(a).sex,"onUpdate:modelValue":t[3]||(t[3]=u=>l(a).sex=u)},{default:o(()=>[n(b,{label:"0"},{default:o(()=>[i(p(l(e)("user.man")),1)]),_:1}),n(b,{label:"1"},{default:o(()=>[i(p(l(e)("user.woman")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),n(s,null,{default:o(()=>[n(_,{type:"primary",class:"btn-confirm",onClick:k},{default:o(()=>[i(p(l(e)("confirm")),1)]),_:1}),n(_,{type:"danger",onClick:h},{default:o(()=>[i(p(l(e)("close")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}};export{B as default};
