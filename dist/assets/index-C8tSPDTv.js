import{V as v,r as f,e as oe,N as ae,h as i,K as ne,o as Y,c as re,L as S,M as F,k as l,i as e,j as a,p as de,x as b,I as M,s as ue,n as T,t as E,$ as se,H as ie,z as pe}from"./index-BP30Yz_m.js";function me(p){return v({url:"/bok/styleOrder/list",method:"get",params:p})}function ce(p){return v({url:"/bok/styleOrder/"+p,method:"get"})}function fe(p){return v({url:"/bok/styleOrder",method:"post",data:p})}function ye(p){return v({url:"/bok/styleOrder",method:"put",data:p})}function ge(p){return v({url:"/bok/styleOrder/"+p,method:"delete"})}const be={class:"app-container"},_e={class:"dialog-footer"},ve=ie({name:"StyleOrder"}),he=Object.assign(ve,{setup(p){const{proxy:y}=pe(),N=f([]),g=f(!1),I=f(!0),V=f(!0),U=f([]),x=f(!0),B=f(!0),k=f(0),O=f(""),K=oe({form:{},queryParams:{pageNum:1,pageSize:10,orderId:null,styleNum:null,monthBuy:null,styleColour:null,size:null,quantity:null,customerName:null,orderTime:null,deliveryTime:null,createUserId:null,updateUserId:null},rules:{}}),{queryParams:m,form:n,rules:P}=ae(K);function _(){I.value=!0,me(m.value).then(r=>{N.value=r.rows,k.value=r.total,I.value=!1})}function L(){g.value=!1,C()}function C(){n.value={styleOrderId:null,orderId:null,styleNum:null,monthBuy:null,styleColour:null,size:null,quantity:null,customerName:null,orderTime:null,deliveryTime:null,createUserId:null,createTime:null,updateUserId:null,updateTime:null,delFlag:null},y.resetForm("styleOrderRef")}function w(){m.value.pageNum=1,_()}function Q(){y.resetForm("queryRef"),w()}function j(r){U.value=r.map(t=>t.styleOrderId),x.value=r.length!=1,B.value=!r.length}function A(){C(),g.value=!0,O.value="添加款号订单"}function D(r){C();const t=r.styleOrderId||U.value;ce(t).then(s=>{n.value=s.data,g.value=!0,O.value="修改款号订单"})}function H(){y.$refs.styleOrderRef.validate(r=>{r&&(n.value.styleOrderId!=null?ye(n.value).then(t=>{y.$modal.msgSuccess("修改成功"),g.value=!1,_()}):fe(n.value).then(t=>{y.$modal.msgSuccess("新增成功"),g.value=!1,_()}))})}function $(r){const t=r.styleOrderId||U.value;y.$modal.confirm('是否确认删除款号订单编号为"'+t+'"的数据项？').then(function(){return ge(t)}).then(()=>{_(),y.$modal.msgSuccess("删除成功")}).catch(()=>{})}function G(){y.download("bok/styleOrder/export",{...m.value},`styleOrder_${new Date().getTime()}.xlsx`)}return _(),(r,t)=>{const s=i("el-input"),d=i("el-form-item"),c=i("el-button"),q=i("el-form"),h=i("el-col"),J=i("right-toolbar"),W=i("el-row"),u=i("el-table-column"),z=i("el-tooltip"),X=i("el-table"),Z=i("pagination"),R=i("el-date-picker"),ee=i("el-dialog"),le=ne("loading");return Y(),re("div",be,[S(e(q,{model:l(m),ref:"queryRef",inline:!0},{default:a(()=>[e(d,{label:"订单号",prop:"orderId"},{default:a(()=>[e(s,{modelValue:l(m).orderId,"onUpdate:modelValue":t[0]||(t[0]=o=>l(m).orderId=o),placeholder:"请输入订单号",clearable:"",onKeyup:de(w,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(d,null,{default:a(()=>[e(c,{type:"primary",icon:"Search",onClick:w},{default:a(()=>[b("搜索")]),_:1}),e(c,{icon:"Refresh",onClick:Q},{default:a(()=>[b("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[F,l(V)]]),e(W,{gutter:10,class:"mb8"},{default:a(()=>[e(h,{span:1.5},{default:a(()=>[e(c,{type:"primary",plain:"",icon:"Plus",onClick:A},{default:a(()=>[b("新增")]),_:1})]),_:1}),e(h,{span:1.5},{default:a(()=>[e(c,{type:"success",plain:"",icon:"Edit",disabled:l(x),onClick:D},{default:a(()=>[b("修改")]),_:1},8,["disabled"])]),_:1}),e(h,{span:1.5},{default:a(()=>[e(c,{type:"danger",plain:"",icon:"Delete",disabled:l(B),onClick:$},{default:a(()=>[b("删除")]),_:1},8,["disabled"])]),_:1}),e(h,{span:1.5},{default:a(()=>[e(c,{type:"warning",plain:"",icon:"Download",onClick:G,class:"btn-export"},{default:a(()=>[b("导出")]),_:1})]),_:1}),e(J,{showSearch:l(V),"onUpdate:showSearch":t[1]||(t[1]=o=>M(V)?V.value=o:null),onQueryTable:_},null,8,["showSearch"])]),_:1}),S((Y(),ue(X,{data:l(N),onSelectionChange:j,border:""},{default:a(()=>[e(u,{type:"selection",width:"55",align:"center"}),e(u,{type:"index",width:"150",label:r.$t("serial_number"),align:"center"},null,8,["label"]),e(u,{label:"订单号",align:"center",prop:"orderId"}),e(u,{label:"款号",align:"center",prop:"styleNum"}),e(u,{label:"月Buy",align:"center",prop:"monthBuy"}),e(u,{label:"款号颜色",align:"center",prop:"styleColour"}),e(u,{label:"尺码",align:"center",prop:"size"}),e(u,{label:"数量",align:"center",prop:"quantity"}),e(u,{label:"客户名",align:"center",prop:"customerName"}),e(u,{label:"订单日期",align:"center",prop:"orderTime",width:"180"},{default:a(o=>[T("span",null,E(r.parseTime(o.row.orderTime,"{y}-{m}-{d}")),1)]),_:1}),e(u,{label:"订单交期",align:"center",prop:"deliveryTime",width:"180"},{default:a(o=>[T("span",null,E(r.parseTime(o.row.deliveryTime,"{y}-{m}-{d}")),1)]),_:1}),e(u,{label:"创建人userid",align:"center",prop:"createUserId"}),e(u,{label:"更新人",align:"center",prop:"updateUserId"}),e(u,{label:"操作",align:"center","class-name":"small-padding fixed-width",fixed:"right"},{default:a(({row:o})=>[e(z,{class:"box-item",effect:"dark",content:r.$t("edit"),placement:"top-start"},{default:a(()=>[e(c,{link:"",type:"primary",icon:"Edit",onClick:te=>D(o)},null,8,["onClick"])]),_:2},1032,["content"]),e(z,{class:"box-item",effect:"dark",content:r.$t("delete"),placement:"top-start"},{default:a(()=>[e(c,{link:"",type:"primary",icon:"Delete",onClick:te=>$(o)},null,8,["onClick"])]),_:2},1032,["content"])]),_:1})]),_:1},8,["data"])),[[le,l(I)]]),S(e(Z,{total:l(k),page:l(m).pageNum,"onUpdate:page":t[2]||(t[2]=o=>l(m).pageNum=o),limit:l(m).pageSize,"onUpdate:limit":t[3]||(t[3]=o=>l(m).pageSize=o),onPagination:_},null,8,["total","page","limit"]),[[F,l(k)>0]]),e(ee,{title:l(O),modelValue:l(g),"onUpdate:modelValue":t[16]||(t[16]=o=>M(g)?g.value=o:null),width:"500px","append-to-body":""},{footer:a(()=>[T("div",_e,[e(c,{type:"primary",loading:l(se)().loading,onClick:H},{default:a(()=>[b("确 定")]),_:1},8,["loading"]),e(c,{class:"btn-cancel",onClick:L},{default:a(()=>[b("取 消")]),_:1})])]),default:a(()=>[e(q,{ref:"styleOrderRef",model:l(n),rules:l(P),"label-width":"80px"},{default:a(()=>[e(d,{label:"订单号",prop:"orderId"},{default:a(()=>[e(s,{modelValue:l(n).orderId,"onUpdate:modelValue":t[4]||(t[4]=o=>l(n).orderId=o),placeholder:"请输入订单号"},null,8,["modelValue"])]),_:1}),e(d,{label:"款号",prop:"styleNum"},{default:a(()=>[e(s,{modelValue:l(n).styleNum,"onUpdate:modelValue":t[5]||(t[5]=o=>l(n).styleNum=o),placeholder:"请输入款号"},null,8,["modelValue"])]),_:1}),e(d,{label:"月Buy",prop:"monthBuy"},{default:a(()=>[e(s,{modelValue:l(n).monthBuy,"onUpdate:modelValue":t[6]||(t[6]=o=>l(n).monthBuy=o),placeholder:"请输入月Buy"},null,8,["modelValue"])]),_:1}),e(d,{label:"款号颜色",prop:"styleColour"},{default:a(()=>[e(s,{modelValue:l(n).styleColour,"onUpdate:modelValue":t[7]||(t[7]=o=>l(n).styleColour=o),placeholder:"请输入款号颜色"},null,8,["modelValue"])]),_:1}),e(d,{label:"尺码",prop:"size"},{default:a(()=>[e(s,{modelValue:l(n).size,"onUpdate:modelValue":t[8]||(t[8]=o=>l(n).size=o),placeholder:"请输入尺码"},null,8,["modelValue"])]),_:1}),e(d,{label:"数量",prop:"quantity"},{default:a(()=>[e(s,{modelValue:l(n).quantity,"onUpdate:modelValue":t[9]||(t[9]=o=>l(n).quantity=o),placeholder:"请输入数量"},null,8,["modelValue"])]),_:1}),e(d,{label:"客户名",prop:"customerName"},{default:a(()=>[e(s,{modelValue:l(n).customerName,"onUpdate:modelValue":t[10]||(t[10]=o=>l(n).customerName=o),placeholder:"请输入客户名"},null,8,["modelValue"])]),_:1}),e(d,{label:"订单日期",prop:"orderTime"},{default:a(()=>[e(R,{clearable:"",modelValue:l(n).orderTime,"onUpdate:modelValue":t[11]||(t[11]=o=>l(n).orderTime=o),type:"date","value-format":"YYYY-MM-DD",placeholder:"请选择订单日期"},null,8,["modelValue"])]),_:1}),e(d,{label:"订单交期",prop:"deliveryTime"},{default:a(()=>[e(R,{clearable:"",modelValue:l(n).deliveryTime,"onUpdate:modelValue":t[12]||(t[12]=o=>l(n).deliveryTime=o),type:"date","value-format":"YYYY-MM-DD",placeholder:"请选择订单交期"},null,8,["modelValue"])]),_:1}),e(d,{label:"创建人userid",prop:"createUserId"},{default:a(()=>[e(s,{modelValue:l(n).createUserId,"onUpdate:modelValue":t[13]||(t[13]=o=>l(n).createUserId=o),placeholder:"请输入创建人userid"},null,8,["modelValue"])]),_:1}),e(d,{label:"更新人",prop:"updateUserId"},{default:a(()=>[e(s,{modelValue:l(n).updateUserId,"onUpdate:modelValue":t[14]||(t[14]=o=>l(n).updateUserId=o),placeholder:"请输入更新人"},null,8,["modelValue"])]),_:1}),e(d,{label:"0正常1删除",prop:"delFlag"},{default:a(()=>[e(s,{modelValue:l(n).delFlag,"onUpdate:modelValue":t[15]||(t[15]=o=>l(n).delFlag=o),placeholder:"请输入0正常1删除"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}});export{he as default};
